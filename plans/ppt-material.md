# SRE Debate Platform
## 多模型辩论式 SRE 智能体平台

---

# 第一页：项目概述

## 项目定位
基于 AutoGen 多Agent编排构建的多模型辩论式SRE智能体平台

## 核心目标
- 实现 **三态资产融合** - 打通设计态、开发态、运行态资产壁垒
- 构建 **AI专家委员会** - 多角色协作决策，提升分析准确性
- 引入 **内部辩论机制** - 通过质疑-反驳-裁决提升结论可信度
- 实现 **智能修复建议** - 自动生成修复方案与影响分析

---

# 第二页：核心价值与亮点

## 创新亮点

| 亮点 | 说明 |
|------|------|
| 三态资产融合 | 统一建模运行态日志、开发态代码、设计态文档 |
| 多模型专家协作 | 6个专业Agent分工协作，模拟专家委员会决策 |
| AI辩论机制 | 质疑-反驳-裁决四阶段辩论，避免单一模型偏见 |
| 可追溯证据链 | 构建完整的根因证据链，结论可解释、可追溯 |

## 业务价值
- **缩短故障定位时间** - 自动化分析替代人工排查
- **提升分析准确性** - 多角色辩论降低误判率
- **知识沉淀复用** - 案例库持续积累，经验可传承
- **降低SRE技能门槛** - AI辅助决策，降低专家依赖

---

# 第三页：系统架构

```
┌─────────────────────────────────────────────────────┐
│                   交互与接口层                        │
│         Web UI  /  REST API  /  CLI 工具            │
└─────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────┐
│                   Flow 编排层                        │
│         SRE Debate Flow (AutoGen/LangGraph)         │
└─────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────┐
│                多模型专家协作层                       │
│   LogAgent | DomainAgent | CodeAgent | CriticAgent  │
│              RebuttalAgent | JudgeAgent             │
└─────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────┐
│                    工具层                            │
│  日志解析器 | Git工具 | DDD分析工具 | 案例库检索     │
└─────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────┐
│                   资产与存储层                       │
│  运行态资产 | 开发态资产 | 设计态资产 | 案例库       │
└─────────────────────────────────────────────────────┘
```

---

# 第四页：AI专家委员会分工

## 六大专业Agent

| Agent | 角色 | 职责 |
|-------|------|------|
| LogAgent | 日志分析专家 | 解析运行态日志，提取异常栈、URL、类路径等关键信息 |
| DomainAgent | 领域映射专家 | 将异常映射到领域模型，识别聚合根和限界上下文 |
| CodeAgent | 代码分析专家 | 分析代码层面根因，构建证据链，提出修复建议 |
| CriticAgent | 架构质疑专家 | 检查DDD原则违反，提出质疑意见 |
| RebuttalAgent | 技术反驳专家 | 回应质疑，修正分析结论 |
| JudgeAgent | 技术委员会主席 | 综合辩论过程，给出最终裁决 |

---

# 第五页：辩论流程设计

## 四阶段辩论流程

```
┌────────────────┐    ┌────────────────┐    ┌────────────────┐    ┌────────────────┐
│  第一阶段      │    │  第二阶段      │    │  第三阶段      │    │  第四阶段      │
│  独立分析      │ →  │  交叉质疑      │ →  │  反驳修正      │ →  │  最终裁决      │
│  CodeAgent     │    │  CriticAgent   │    │  RebuttalAgent │    │  JudgeAgent    │
└────────────────┘    └────────────────┘    └────────────────┘    └────────────────┘
       ↓                      ↓                      ↓                      ↓
  提出根因假设           检查DDD违反           回应质疑修正           综合裁决结论
  构建证据链             提出质疑意见           补充证据支持           生成最终报告
```

## 辩论优势
- **避免单一偏见** - 多角度审视，避免"一言堂"
- **提升结论可信度** - 经过质疑和验证的结论更可靠
- **可解释性强** - 完整辩论过程可追溯，结论有据可依

---

# 第六页：三态资产融合

## 资产类型定义

| 资产态 | 来源 | 内容 |
|--------|------|------|
| 运行态 | 生产环境 | 应用日志、JVM监控、Trace信息、慢SQL |
| 开发态 | 代码仓库 | Git仓库、聚合根、Controller、Repository |
| 设计态 | 设计文档 | 领域模型、接口设计、数据库设计、历史案例 |

## 融合价值
- **跨态关联** - 从日志异常追溯到代码实现再到设计方案
- **全景视角** - 打破信息孤岛，构建完整知识图谱
- **精准定位** - 结合多态信息，提升根因分析准确性

---

# 第七页：技术选型

## 技术栈总览

### 后端技术
- **框架**: Python 3.11+ / FastAPI
- **AI编排**: AutoGen Runtime / LangGraph
- **数据库**: PostgreSQL + Neo4j (图数据库)
- **缓存**: Redis + Celery

### 前端技术
- **框架**: React 18 + TypeScript
- **UI组件**: Ant Design 5
- **构建工具**: Vite
- **状态管理**: Zustand

### AI模型
- **主力模型**: glm-5 (智谱AI)
- **模型服务**: OpenAI兼容网关

---

# 第八页：已实现能力

## 核心功能已落地
- Incident 全流程（创建 → 会话 → 辩论 → 报告）
- WebSocket 实时辩论流
- 资产融合查询 API
- 历史记录与资产图谱页面
- 可选鉴权（JWT/RBAC）
- 限流、熔断、指标监控

## 部署能力
- 一键启动脚本（前后端并行启动）
- Docker 容器化部署支持
- 完善的API文档（Swagger/ReDoc）

---

# 第九页：项目成果展示

## 功能截图（建议替换为实际截图）

### 故障分析界面
- 故障信息录入
- 日志上传与解析
- 资产自动采集

### 辩论可视化
- 实时辩论过程展示
- Agent观点对比
- 置信度变化追踪

### 分析报告
- 根因分析结论
- 证据链展示
- 修复建议推荐
- 影响分析评估

---

# 第十页：未来规划

## 短期目标
- 数据库持久化完善
- WebSocket实时通信优化
- 案例库深度集成
- 测试覆盖率提升

## 中长期目标
- 生产环境部署
- 多模型路由支持
- 自动修复能力（PR生成）
- 灰度发布建议
- 知识图谱可视化

---

# 第十一页：总结

## 项目价值总结

```
┌────────────────────────────────────────────────────────────┐
│                                                            │
│   传统故障分析                    AI辩论式故障分析          │
│   ─────────────                  ──────────────────        │
│   依赖专家经验                    AI辅助决策                 │
│   单一视角分析                    多角色协作辩论             │
│   知识难以沉淀                    案例库持续积累             │
│   分析周期长                      自动化快速定位             │
│   结论难追溯                      证据链完整可解释           │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

## 核心竞争力
- **创新性**: 业界首创AI辩论式故障分析机制
- **实用性**: 覆盖故障分析全流程，落地性强
- **扩展性**: 模块化设计，易于扩展新Agent和工具

---

# 谢谢！

## 联系方式
- 项目仓库：github.com/neochen1991/multi-agent-cli
- 技术文档：plans/sre-debate-platform-architecture.md

---

# 附录：API接口清单

## 核心API
| 接口 | 说明 |
|------|------|
| POST /api/v1/incidents | 创建故障 |
| GET /api/v1/incidents | 获取故障列表 |
| GET /api/v1/assets/fusion/:id | 获取资产融合结果 |
| POST /api/v1/debates | 启动辩论 |
| WS /ws/debates/:id | 实时辩论流 |
| GET /api/v1/reports/:id | 获取分析报告 |

## 文档地址
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc
- Metrics: http://localhost:8000/metrics